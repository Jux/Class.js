/*!
 * Class.js
 * Version 0.2.1
 * 
 * Copyright(c) 2012 Gregory Jacobs.
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 * 
 * https://github.com/gregjacobs/Class.js
 */
var Class=(function(){function a(f){return !!f&&Object.prototype.toString.call(f)==="[object Object]"}var e=false;if(typeof window!=="undefined"){var d=window.navigator.userAgent.toLowerCase();e=/msie/.test(d)&&!(/opera/.test(d))}var c=0;var b=function(f){return b.extend(Object,f)};b.create=function(f){return b.extend(Object,f)};b.apply=function(h,i,g){if(g){b.apply(h,g)}if(h&&i&&typeof i=="object"){for(var f in i){h[f]=i[f]}}return h};b.applyIf=function(g,h){if(g){for(var f in h){if(typeof g[f]==="undefined"){g[f]=h[f]}}}return g};b.abstractMethod=function(){throw new Error("method must be implemented in subclass")};b.extend=(function(){var f=Object.prototype.constructor,h=/xyz/.test(function(){var i})?/\b_super\b/:/.*/;var g=function(j){for(var i in j){this[i]=j[i]}};return function(x,v){if(arguments.length===1){v=x;x=Object}var n,m,y=function(){},l,k=x.prototype,r=!!v.abstractClass,j;var t=v.statics,o=v.inheritedStatics,q=v.mixins;delete v.statics;delete v.inheritedStatics;delete v.mixins;var s=function(z,i){return function(){var C=this._super,B=this;this._super=function(D){return k[z].apply(B,D||[])};var A=i.apply(this,arguments);this._super=C;return A}};for(j in v){if(j!=="constructor"&&v.hasOwnProperty(j)&&typeof v[j]==="function"&&typeof k[j]==="function"&&h.test(v[j])){v[j]=s(j,v[j])}}if(v.hasOwnProperty("constructor")&&typeof v.constructor==="function"&&typeof k.constructor==="function"&&h.test(v.constructor)){v.constructor=s("constructor",v.constructor)}if(v.constructor!==f){m=v.constructor;delete v.constructor}else{m=(x===Object)?function(){}:function(){return x.apply(this,arguments)}}n=function(){var i=this.constructor.prototype;if(i.hasOwnProperty("abstractClass")&&i.abstractClass===true){throw new Error("Error: Cannot instantiate abstract class")}return m.apply(this,arguments)};y.prototype=k;l=n.prototype=new y();l.constructor=n;n.superclass=n.__super__=k;if(k.constructor===f){k.constructor=x}n.override=function(i){b.override(n,i)};n.extend=function(i){return b.extend(n,i)};n.hasMixin=function(i){return b.hasMixin(n,i)};l.superclass=l.supr=function(){return k};l.override=g;l.hasMixin=function(i){return b.hasMixin(this.constructor,i)};b.override(n,v);if(!r){for(var u in l){if(l[u]===b.abstractMethod){if(l.hasOwnProperty(u)){throw new Error("The class being created has abstract method '"+u+"', but is not declared with 'abstractClass: true'")}else{throw new Error("The concrete subclass being created must implement abstract method: '"+u+"', or be declared abstract as well (using 'abstractClass: true')")}}}}if(o||x.__Class_inheritedStatics){o=b.apply({},o,x.__Class_inheritedStatics);b.apply(n,o);n.__Class_inheritedStatics=o}if(t){b.apply(n,t)}if(q){for(var p=q.length-1;p>=0;p--){var w=q[p].prototype;for(j in w){if(typeof l[j]==="undefined"){l[j]=w[j]}}}n.mixins=q}if(typeof n.onClassExtended==="function"){n.onClassExtended(n)}return n}})();b.override=function(f,h){if(h){var g=f.prototype;b.apply(g,h);if(e&&h.hasOwnProperty("toString")){g.toString=h.toString}}};b.isInstanceOf=function(g,f){if(typeof f!=="function"){throw new Error("jsClass argument of isInstanceOf method expected a Function (constructor function) for a JavaScript class")}if(!a(g)){return false}else{if(g instanceof f){return true}else{if(b.hasMixin(g.constructor,f)){return true}else{return false}}}};b.hasMixin=function(h,j){var g=j.__Class_classId;if(!g){g=j.__Class_classId=++c}var o=h.__Class_hasMixinCache;if(!o){o=h.__Class_hasMixinCache={}}if(g in o){return o[g]}else{var l=h.mixins,n=(h.superclass||h.__super__);if(l){for(var k=0,m=l.length;k<m;k++){if(l[k]===j){return(o[g]=true)}}}if(n&&n.constructor&&n.constructor!==Object){var f=b.hasMixin(n.constructor,j);return(o[g]=f)}else{return(o[g]=false)}}};return b})();